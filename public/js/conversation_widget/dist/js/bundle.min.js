!function e(t,n,i){function a(s,r){if(!n[s]){if(!t[s]){var u="function"==typeof require&&require;if(!r&&u)return u(s,!0);if(o)return o(s,!0);throw new Error("Cannot find module '"+s+"'")}var c=n[s]={exports:{}};t[s][0].call(c.exports,function(e){var n=t[s][1][e];return a(n?n:e)},c,c.exports,e,t,n,i)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)a(i[s]);return a}({1:[function(e,t,n){!function(){"use strict";t.exports=function(t,n,i,a){var o=e("./dynamicInput.script"),s={enableFeedback:!1},r={sendQuestion:function(e){return r.showLoad(),n.makeQuestion(e).then(function(e){e.hasOwnProperty("output")&&e.output.text.length?(u.buildChatBubble(e.output.text[0],"watson"),s.enableFeedback&&r.toggleFeedbackOptions()):u.buildChatBubble(i.watsonNegative,"watson")},function(e){console.log(e)}).then(function(){r.hideLoad()}),this},toggleFeedbackOptions:function(){console.log(t.get("feedbackEl")),t.get("feedbackEl").classList.toggle("show-feedback")},sendFeedback:function(e,t){return n.sendFeedback(e,t).then(function(e){console.log(e),u.buildChatBubble(i.watsonFeedback,"watson")},function(e){console.log(e)}).then(function(){r.toggleFeedbackOptions()}),this},scrollChatToBottom:function(){return t.get("chatWrapper").scrollTop=t.get("chatWrapper").scrollHeight,this},showLoad:function(){t.get("loadingEl").classList.add("show-loading")},hideLoad:function(){t.get("loadingEl").classList.remove("show-loading")},cleanInput:function(){return t.get("inputEl").value="",this},inputFocus:function(){return t.get("inputEl").focus(),this}},u={attachClickListener:function(e,t){try{e.addEventListener("click",t)}catch(e){throw console.warn(e),new Error("Invalid HTML Element")}},attachKeyListener:function(e,t,n){try{e.addEventListener("keyup",function(e){var i=e.which||e.keyCode;13===i&&t(),n()})}catch(e){console.warn(e)}},createWidgetHeader:function(e){var n=a.createElement("header"),i=a.createElement("img"),o=a.createElement("h2");return i.setAttribute("alt","Custom logo"),i.src=t.get("headerLogo"),i.onerror=function(){i.src="http://placehold.it/48x48"},o.appendChild(a.createTextNode(e.customTitle||"Watson Conversation")),n.appendChild(i),n.appendChild(o),n.classList.add("widget-header"),n},createWidgetBody:function(){var e=a.createElement("div"),n=a.createElement("div"),o=a.createElement("div");if(e.classList.add("widget-body"),n.classList.add("widget-chat"),o.setAttribute("id","loading"),t.set("chatWrapper",e),t.set("chatEl",n),t.set("loadingEl",o),n.appendChild(o),s.enableFeedback){var c=a.createElement("div"),L=a.createElement("label"),d=a.createElement("div"),l=a.createElement("button"),M=a.createElement("button");u.attachClickListener(l,function(){r.sendFeedback("positive",{id:"x"})}),u.attachClickListener(M,function(){r.sendFeedback("negative",{id:"x"})}),c.classList.add("feedback-session"),L.appendChild(a.createTextNode(i.feedbackDisclaimer)),l.appendChild(a.createTextNode(i.feedbackYesBtn)),M.appendChild(a.createTextNode(i.feedbackNoBtn)),c.appendChild(L),d.appendChild(l),d.appendChild(M),c.appendChild(d),t.set("feedbackEl",c),n.appendChild(c)}return e.appendChild(n),e},buildChatBubble:function(e,n){var i=this;if(e){var o=a.createElement("div"),s=a.createElement("span");return o.classList.add("msg-wrapper"),s.classList.add("chat-bubble"),s.innerHTML=e,"watson"===n?o.classList.add("left"):o.classList.add("right"),o.appendChild(s),t.get("chatEl").appendChild(o),r.scrollChatToBottom(),i}},createWidgetFooter:function(){var e=this,n=a.createElement("div"),i=a.createElement("p"),s=a.createElement("label"),c=a.createElement("input"),L=a.createElement("button");t.set("inputEl",c);var d=function(){c.value&&(u.buildChatBubble(c.value),r.sendQuestion(c.value).cleanInput().inputFocus())};o({handler:c,minWidth:25,parent:i});var l=function(){c.value?c.style.borderBottom="2px solid black":c.style.borderBottom="0"};return n.classList.add("widget-footer"),i.classList.add("input-wrapper"),s.setAttribute("for","widget-input"),c.setAttribute("type","text"),c.setAttribute("id","widget-input"),e.attachClickListener(i,r.inputFocus),e.attachClickListener(L,d),e.attachKeyListener(c,d,l),i.appendChild(s),i.appendChild(c),n.appendChild(i),n.appendChild(L),n}};return{createWidget:function(e){var n=a.createElement("div");return s.enableFeedback=e.enableFeedback,n.classList.add("conversation-widget"),e.includeHeader&&(e.customLogo&&t.set("headerLogo",e.customLogo),n.appendChild(u.createWidgetHeader(e))),n.appendChild(u.createWidgetBody()),n.appendChild(u.createWidgetFooter()),n}}}}()},{"./dynamicInput.script":3}],2:[function(e,t,n){!function(){"use strict";t.exports=function(t,n,i){var a={methods:{appendToBox:function(e,n){try{t.document.querySelector(e).appendChild(n)}catch(e){throw new Error("Invalid parent container")}}}};return{createWidgetInstance:function(o){var s,r=e("../elements/elements.script")(),u=e("./chatBuilder.script")(r,n,i,t.document),c=u.createWidget(o);o.parentContainer?a.methods.appendToBox(o.parentContainer,c):s=t.document.querySelector("body")}}}}()},{"../elements/elements.script":4,"./chatBuilder.script":1}],3:[function(e,t,n){!function(){"use strict";var e=function(e,t,n){var i=n,a=document.createElement("pre");return a.className=t,a.style.position="absolute",a.style.top="0px",a.style.left="0px",a.style.height="0px",a.style.maxWidth="100%",a.style.zIndex="-1",a.style.opacity="0",a.style.visibility="hidden",a.style.overflow="hidden",a.style.display="inline-block",i.appendChild(a),a},n=function(e,t,n){t.textContent=e.value,e.style.width=Math.max(n,t.offsetWidth)+"px"},i=function(e,t,n){e.value="",e.style.width=n+"px",t.textContent=""},a=function(t){var a=e(t.handler,t.classes,t.parent);t.handler.oninput=function(e){n(this,a,t.minWidth)},i(t.handler,a,t.minWidth)};t.exports=function(e){a({handler:e.handler,minWidth:e.minWidth||10,classes:(e.classes||"")+" dynamicInputDummy",parent:e.parent||document.querySelector("body")})}}()},{}],4:[function(e,t,n){!function(){"use strict";t.exports=function(){var e={htmlBody:"",widgetEl:"",chatHeader:"",chatWrapper:"",chatEl:"",feedbackEl:"",chatFooter:"",loadingEl:"",inputEl:"",headerLogo:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIKCSB2aWV3Qm94PSIwIDAgNTAgNTAiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8cGF0aCBpZD0iV2F0c29uX0F2YXRhcl9GbGF0XzRfIiBmaWxsPSIjNUFBQUZBIiBkPSJNOC40LDIwLjhjLTAuMSwwLTAuMywwLTAuNC0wLjFsLTQuMi0yLjRDMy4zLDE4LDMuMiwxNy40LDMuNCwxNwoJYzAuMi0wLjQsMC44LTAuNiwxLjItMC4zbDQuMiwyLjRjMC40LDAuMiwwLjYsMC44LDAuMywxLjJDOSwyMC42LDguNywyMC44LDguNCwyMC44eiBNMTYsMTMuNWMwLjQtMC4yLDAuNi0wLjgsMC4zLTEuMmwtMi40LTQuMgoJYy0wLjItMC40LTAuOC0wLjYtMS4yLTAuM2MtMC40LDAuMi0wLjYsMC44LTAuMywxLjJsMi40LDQuMmMwLjIsMC4zLDAuNSwwLjQsMC44LDAuNEMxNS43LDEzLjYsMTUuOSwxMy41LDE2LDEzLjV6IE0yNi4yLDEwLjFWNS4yCgljMC0wLjUtMC40LTAuOS0wLjktMC45Yy0wLjUsMC0wLjksMC40LTAuOSwwLjl2NC44YzAsMC41LDAuNCwwLjksMC45LDAuOUMyNS44LDExLDI2LjIsMTAuNiwyNi4yLDEwLjF6IE0zNS45LDEzLjFsMi40LTQuMgoJYzAuMi0wLjQsMC4xLTEtMC4zLTEuMmMtMC40LTAuMi0xLTAuMS0xLjIsMC4zbC0yLjQsNC4yYy0wLjIsMC40LTAuMSwxLDAuMywxLjJjMC4xLDAuMSwwLjMsMC4xLDAuNCwwLjEKCUMzNS41LDEzLjYsMzUuOCwxMy40LDM1LjksMTMuMXogTTQyLjgsMjAuNmw0LjItMi40YzAuNC0wLjIsMC42LTAuOCwwLjMtMS4yYy0wLjItMC40LTAuOC0wLjYtMS4yLTAuM2wtNC4yLDIuNAoJYy0wLjQsMC4yLTAuNiwwLjgtMC4zLDEuMmMwLjIsMC4zLDAuNSwwLjQsMC44LDAuNEM0Mi41LDIwLjgsNDIuNywyMC43LDQyLjgsMjAuNnogTTI2LjEsMTQuM2MtMS42LDAtMy40LDAuNC00LjUsMC43CgljLTAuMSwwLTAuMiwwLjEtMC4yLDAuMmMwLDAuMSwwLjEsMC4yLDAuMiwwLjJjMC4xLDAsMC4zLTAuMSwwLjUtMC4xYzAuOS0wLjEsMS40LTAuMiwyLjctMC4yYzEuNSwwLDIuOSwwLjMsNC40LDAuOAoJQzIzLjQsMTgsMTcuNywyNS45LDE1LjgsMzNjLTIuMS0yLjMtMy40LTQuOS0zLjQtNy40YzAtNC4xLDMuNC02LjYsOC4zLTYuNmMwLjIsMCwwLjMsMCwwLjQsMGMwLjEsMCwwLjEtMC4xLDAuMS0wLjIKCWMwLTAuMS0wLjEtMC4xLTAuMi0wLjJjLTAuMy0wLjEtMS4xLTAuMS0xLjktMC4xYy00LjksMC04LjUsMi41LTguNSw3LjFjMCwzLjEsMS44LDYuNSw0LjcsOS40Yy0wLjIsMS0wLjMsMi0wLjMsMi45CgljMCwwLjQsMCwxLjEsMC4yLDEuOWMtMS43LTEuNS0zLTMuMy0zLjctNS4yYy0wLjEtMC40LTAuNC0xLjEtMC41LTEuM2MwLTAuMS0wLjEtMC4yLTAuMi0wLjJjLTAuMSwwLTAuMiwwLjEtMC4yLDAuMgoJYzAsMC4xLDAsMC40LDAuMSwwLjVjMSw1LjIsNi4yLDExLjgsMTQuNiwxMS44YzkuNCwwLDE1LjgtNy43LDE1LjgtMTUuOEM0MS4yLDIxLjQsMzQuOCwxNC4zLDI2LjEsMTQuM3ogTTI1LjMsNDMuNwoJYy0zLDAtNS42LTEuMS02LjctMS43Yy0xLjUtMC44LTEuOS0yLjItMS45LTQuMWMwLTAuNSwwLTEuMSwwLjEtMS42YzMuNywzLjEsOC43LDUuMywxMy42LDUuM2MxLjEsMCwyLjEtMC4yLDMtMC40bDAsMAoJQzMxLjksNDIuNCwyOC45LDQzLjcsMjUuMyw0My43eiBNMzAuNCwzOS45Yy00LjcsMC05LjctMi4zLTEzLjItNS41YzEuOC04LjIsOS4yLTE3LjMsMTMuOS0xNy4zYzAuNSwwLDEsMC4xLDEuNiwwLjUKCWMwLjksMC42LDEuOCwxLjMsMi41LDJjMi4yLDIuMSw0LjIsNS43LDQuMiwxMC4xYzAsMy40LTEuMiw2LjEtMi40LDcuN0MzNS42LDM5LjIsMzMuMSwzOS45LDMwLjQsMzkuOXoiLz4KPC9zdmc+",watsonPic:""};return{get:function(t){if(e[t])return e[t];throw new Error("Invalid Element required")},set:function(t,n){e[t]=n}}}}()},{}],5:[function(e,t,n){!function(){"use strict";t.exports=function(e){var t={},n={feedback:"",conversation:""};return{setUrl:function(e,t){n[t]=e},getUrl:function(e){return n[e]},makeQuestion:function(i){return new Promise(function(a,o){if(e.XMLHttpRequest){var s=new e.XMLHttpRequest;s.onreadystatechange=function(){if(4===s.readyState)if(200===s.status){var e=JSON.parse(s.responseText);e.context&&(t=e.context),a(e)}else o(s.responseText)},s.open("POST",n.conversation,!0),s.setRequestHeader("Content-type","application/x-www-form-urlencoded; charset=UTF-8"),s.send(["question=",i,"&context=",JSON.stringify(t)].join(""))}else o("AJAX Calls not supported on this browser")})},sendFeedback:function(i,a){return new Promise(function(o,s){if(e.XMLHttpRequest){var r=new e.XMLHttpRequest;r.onreadystatechange=function(){4===r.readyState&&(200===r.status?o(JSON.parse(r.responseText)):s(r.responseText))},r.open("POST",n.feedback,!0),r.setRequestHeader("Content-type","application/x-www-form-urlencoded; charset=UTF-8"),r.send(["option=",i,"&feedback=",JSON.stringify(a),"&context=",t].join("")),console.log(["option=",i,"&feedback=",JSON.stringify(a),"&context=",t].join(""))}else s("AJAX Calls not supported on this browser")})}}}}()},{}],6:[function(e,t,n){!function(){"use strict";function n(t){var n=i||t;if(n)return o=n.navigator.languages&&n.navigator.languages[0]||n.navigator.language||n.navigator.userLanguage,a=e("./model/internationalization.script")(o),s=e("./factory/factory.script")(n),r=e("./controller/controller.script")(n,s,a),{init:function(e){if(!e.baseURL)throw new Error("Can not proceed without a valid URL");if(e.enableFeedback){if(!e.feedbackEndpoint)throw new Error("You must provide a feedback endpoint whenever enableFeedback is true");s.setUrl(e.feedbackEndpoint,"feedback")}return s.setUrl(e.baseURL,"conversation"),r.createWidgetInstance(e),!0}};throw new Error("Window object is not present")}var i,a,o,s,r;try{i=window||""}catch(e){console.log("Node JS environment")}i?i.conversationWidget=n(i):t.exports=n}()},{"./controller/controller.script":2,"./factory/factory.script":5,"./model/internationalization.script":7}],7:[function(e,t,n){!function(){"use strict";var e={pt:{watsonNegative:"Infelizmente não entendi. Tente perguntar com outras palavras",feedbackDisclaimer:"Isso ajudou?",feedbackYesBtn:"Sim",feedbackNoBtn:"Não"},en:{watsonNegative:"I did not understood. Try with another words",feedbackDisclaimer:"Did it help?",feedbackYesBtn:"Yes",feedbackNoBtn:"No"},es:{watsonNegative:"",feedbackDisclaimer:"",feedbackYesBtn:"",feedbackNoBtn:""}};t.exports=function(t){return e[t]||e.en}}()},{}]},{},[6]);